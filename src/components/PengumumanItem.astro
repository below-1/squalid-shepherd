---
import { Icon } from "astro-icon/components";
import { format } from 'date-fns';
import { id } from 'date-fns/locale';

type Props = {
  id: string;
  date: Date;
  title: string;
  creator: string;
  hideSecondLine?: boolean;
}

const props = Astro.props;

const dayOfMonth = format(props.date, "dd", { locale: id })
const month = format(props.date, "MMMM", { locale: id })
const year = format(props.date, "yyyy", { locale: id })
const fullDate = format(props.date, "dd MMMM yyyy", { locale: id })
---

<a href={`/pengumuman/${props.id}`} class="group flex gap-4 md:gap-8 items-center cursor-pointer transition-all bg-white">
  <div class="w-24 h-14 md:w-28 md:h-24 shrink-0 flex flex-col">
    <div
      class="grow bg-neutral-100 py-4 flex flex-col items-center justify-center"
    >
      <p class="text-accent-400 font-bold text-xl">{dayOfMonth}</p>
      <p class="uppercase text-xs">{month} {year}</p>
    </div>
  </div>

  <div class="flex flex-col justify-center gap-2">
    <div class="text-black font-black text-sm md:text-lg underline group-hover:text-primary-600 group-focus:text-primary-600 group-active:text-primary-500">
      {props.title}
    </div>
    {!props.hideSecondLine && (
      <div class="flex gap-3 items-center text-xs md:text-sm">
        <div class="flex items-center gap-1">
          <Icon name="calendar" />
          <div class="">{fullDate}</div>
        </div>
        <div class="flex items-center gap-1">
          <Icon name="user" />
          <div class="">{props.creator}</div>
        </div>
        <div class="flex items-center gap-1">
          <Icon name="eye" />
          <div class="">400</div>
        </div>
      </div>
    )}
  </div>

</a>
